---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# MRAS

<!-- badges: start -->
<!-- badges: end -->

MRAS is designed to identify crucial RNA-binding proteins (RBPs) responsible for splicing variations in diverse scenarios, including cancer vs. normal, primary vs. recurrence, and more, not just in bulk data but also in single-cell data.

## Installation

You can install the development version of MRAS from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("zhou-lei5/MRAS")
```

## Example

This is a basic example which shows you how to use MRAS:

```{r example}
library(MRAS)
## basic example code
```

Test data is included in MRAS and you can import it using data(), which contains the RBP expression matrix as well as the event PSI matrix.

```{r data_expr}
## "expr" is RBP expression matrix.
data("expr")
expr[1:5,1:5]
```
```{r data_psi}
## "psi" is events psi matrix."expr" and "psi" should have same column names.
data("psi")
psi[1:5,1:5]
```
The easiest way to use it: directly use the function `MRAS()`. The specific parameters are detailed in `??MRAS` or `help(MRAS)`.

```{r MRAS}
## Users can utilize the MRAS function for a streamlined analysis, or execute individual steps separately if they prefer to have more control over specific aspects of the analysis.
result<-MRAS(
  expr,
  psi,
  rbp_interested = "ESRP1",
  m = 22,
  n = 22,
  DS_pvalue = 0.05,
  DS_dPSI = 0.1,
  method =  "spearman",
  num1 = 0.2,
  num2 = 10,
  dpsi_network_threshold = 0.1,
  Regulate_threshold = 0.5,
  threads = 6,
  path_use="./tests/",
  result_type = "Top10"
)
```


After running `MRAS()`, there are three ways to display the results. In addition to setting the form directly in the parameters, users can also obtain other result display forms through the functions `get_Top10()`, `get_tab_all()`, and `get_tab_simple()`. This allows users to access additional result display formats without having to rerun `MRAS()`.

```{r MRAS_result}
result_Top10<-get_Top10(path_use = "./tests/")
result_tab_simple<-get_tab_simple(path_use = "./tests/")
result_tab_all<-get_tab_all(path_use = "./tests/")
head(result_tab_simple[1:5,])
```


Of course, you can also distribute the MRAS analysis, which will help you better understand the principles of MRAS.
Finally, if you have any more questions, you can submit them in Github and we will do our best to answer them.(https://github.com/zhou-lei5/MRAS)
